// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgresql://postgres:password@127.0.0.1:5432/questions_and_answers"
}

model Products {
  id        Int         @id @default(autoincrement())
  Questions Questions[]
}

model Questions {
  id                   Int       @id @default(autoincrement())
  product              Int?
  question_body        String?
  question_date        DateTime? @default(now())
  asker_name           String?
  question_helpfulness Int?
  reported             Boolean?
  Answers              Answers[]

  products   Products? @relation(fields: [productsId], references: [id])
  productsId Int?

  @@index([question_helpfulness])
}

model Answers {
  id          Int      @id @default(autoincrement())
  body        String?
  answer_name String?
  date        String?
  helpfulness Boolean?
  Photos      Photos[]

  Questions   Questions? @relation(fields: [questionsId], references: [id])
  questionsId Int?

  @@index([helpfulness, answer_name])
}

model Photos {
  id    Int     @id @default(autoincrement())
  photo String?

  Answers   Answers? @relation(fields: [answersId], references: [id])
  answersId Int?
}
